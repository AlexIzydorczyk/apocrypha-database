<div id="booklist-form">
	<%= form_with(model: booklist, class: "autosave") do |form| %>
	<div class="row">
		<div class="form-group col-4 mb-2">
			<%= form.label :booklist_type, style: "display: block" %>
			<%= form.text_field :booklist_type, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :manuscript_source, style: "display: block" %>
			<%= form.text_field :manuscript_source, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :language_id, style: "display: block" %>
			<select placeholder="Select language" v-model="language_id" name="booklist[language_id]" class="form-control" id="booklist_language_id">
				<option value=""></option>
				<option v-for="l in languages" :value="l.id">{{ l.language_name }}</option>
			</select>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :scribe_id, style: "display: block" %>
			<%= form.collection_select :scribe_id, Person.all, :id, :full_name, {selected: booklist.scribe_id, include_blank: true}, {class: "form-control", multiple: false, placeholder: "Search person"} %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :title_orig, style: "display: block" %>
			<%= form.text_field :title_orig, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2" v-show="language_id != english_id">
			<%= form.label :title_orig_transliteration, style: "display: block" %>
			<%= form.text_field :title_orig_transliteration, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2" v-show="language_id != english_id">
			<%= form.label :title_orig_translation, style: "display: block" %>
			<%= form.text_field :title_orig_translation, class: "form-control" %>
		</div>
		<div class="form-group col-12 mb-2">
			<%= form.label :notes, style: "display: block" %>
			<%= form.text_area :notes, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :date_from, style: "display: block" %>
			<%= form.text_field :date_from, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :date_to, style: "display: block" %>
			<%= form.text_field :date_to, class: "form-control" %>
		</div>
		<div class="form-group col-4 mb-2">
			<%= form.label :specific_date, style: "display: block" %>
			<%= form.text_field :specific_date, class: "form-control" %>
		</div>
	</div>

	<h2>Books' owner</h2>
	<div class="row">
		<div class="form-group col-md-3 mb-2">
			<%= form.label :library_owner_id, style: "display: block" %>
			<%= form.collection_select :library_owner_id, Person.all, :id, :full_name, {selected: booklist.library_owner_id, include_blank: true}, {class: "form-control", multiple: false, placeholder: "Search person"} %>
		</div>
		<div class="form-group col-md-3 mb-2">
			<%= form.label :institution_id, style: "display: block" %>
			<%= form.collection_select :institution_id, Institution.all, :id, :display_name, {selected: booklist.institution_id, include_blank: true}, {class: "form-control", multiple: false, placeholder: "Search institution"} %>
		</div>
		<div class="form-group col-md-3 mb-2">
			<%= form.label :location_id, style: "display: block" %>
			<%= form.collection_select :location_id, Location.all, :id, :city_region_country, {selected: booklist.location_id, include_blank: true}, {class: "form-control", multiple: false, placeholder: "Search location"} %>
		</div>
		<div class="form-group col-md-3 mb-2">
			<%= form.label :religious_order_id, style: "display: block" %>
			<%= form.collection_select :religious_order_id, ReligiousOrder.all, :id, :display_name, {selected: booklist.religious_order_id, include_blank: true}, {class: "form-control", multiple: false, placeholder: "Search religious order"} %>
		</div>
	</div>

	<%= render 'layouts/save_now', form: form %>
	<% end %>

	<h2>Booklist sections <%= button_to 'New booklist section', booklist_sections_path, class: "btn btn-action", params: { booklist_section: { booklist_id: @booklist.id, sequence_no: @booklist.booklist_sections.count + 1 } } %></h2>
	<%= render 'booklist_sections/list', booklist: @booklist %>

</div>



<script type="text/javascript">
	<%= render '/booklists/scripts', booklist: booklist %>
</script>